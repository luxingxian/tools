{extend name='sg_base:base' /}
{block name='title'}制作营销图{/block}
{block name='content'}
<style>
	.yxt{ width: 1200px; margin: 40px auto;}
	.yxt-l{ width: 380px;}
	.yxt-c{ width: 380px;}
	.yxt-c .yxt-c-t span{ width: 100px; height: 100px; cursor: pointer;}
	.yxt-c .yxt-c-t span+span{ width: 50px; height: 100px;}
	.yxt-c .yxt-c-t span+span+span{ width: 66px; height: 100px;}
	.yxt-c .yxt-c-t span+span+span+span{ width: 100px; height: 100px;}
	.yxt-c .yxt-c-t span em{ border: 3px solid #F8F8F8; box-sizing: border-box;	-webkit-transition: all 0.3s ease-in-out; -o-transition: all 0.3s ease-in-out; transition: all 0.3s ease-in-out;}
	.yxt-c .yxt-c-t span.on em{ border: 3px solid #fc583d; box-sizing: border-box;}
	.yxt-r{ width: 380px;}
	.yxt-r ul li{ width: 50px; height: 50px;}
	.yxt-r ul li img{ width: 50px; height: 50px;}
	.loadingb .outer{ border: 2px solid #fc583d; border-top-color: transparent; border-bottom-color: transparent;}

</style>
<!--
							<li><img src="__STATIC__/images/makePics/sc/c1.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/c2.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/c3.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/dt1.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/dt2.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/dt3.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/dt4.png"></li>
						</ul>
					</div>
					<div class="bt">装饰圆形</div>
					<div>
						<ul class="xiaosc round">
							<li><img src="__STATIC__/images/makePics/sc/y1.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/y2.png"></li>
							<li><img src="__STATIC__/images/makePics/sc/y3.png"></li>
						</ul>
 -->


<div class="yxt display-flex-center align-items">
	<div class="yxt-l bg-a padding-20">
		1
	</div>
	<div class="yxt-c bg-a padding-20 margin-l20 margin-r20">
		<div class="yxt-c-t display-flex-between align-items">
			<span class="display-flex-between align-items flex-wrap on">
				<em style="width: 100px; height: 100px;"></em>
			</span>
			<span class="display-flex-between align-items flex-wrap">
				<em style="width: 49px; height: 49px;"></em>
				<em style="width: 49px; height: 49px;"></em>
			</span>
			<span class="display-flex-between align-items flex-wrap">
				<em style="width: 66px; height: 66px;"></em>
				<em style="width: 32px; height: 32px;"></em>
				<em style="width: 32px; height: 32px;"></em>
			</span>
			<span class="display-flex-between align-items flex-wrap">
				<em style="width: 49px; height: 49px;"></em>
				<em style="width: 49px; height: 49px;"></em>
				<em style="width: 49px; height: 49px;"></em>
				<em style="width: 49px; height: 49px;"></em>
			</span>
		</div>
		<div class="yxt-c-c">
			<div>
			</div>
			<div>

			</div>
			<div>

			</div>
			<div>

			</div>
		</div>
		<div class="yxt-c-b">
			<button type="button">合成营销图</button>
		</div>
	</div>
	<div class="yxt-r bg-a padding-20">
		<div class="yxt-r-t">
			<input type="" name="" id="" value="" />
			<button type="button">搜索</button>
		</div>
		<div class="yxt-r-c">
			<ul>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
				<li><img src="__STATIC__/images/public/headimg.jpg" draggable="true" class="img"></li>
			</ul>
			<div class="loadingb disliay-n" style="margin: 230px auto;"><span class="outer"></span><span class="inner"></span></div>
		</div>
		<div class="yxt-r-b">
			<button type="button">获取实拍图</button>
		</div>
	</div>
</div>


<!-- <div class="" style="width: 1000px; margin: 0 auto;">
	<div class="logo" style="width: 100px; height: 100px;"><img style="width: 100%;" src="__STATIC__/images/public/headimg.jpg" id="11123" draggable="true"></div>
	<div class="logo" style="width: 100px; height: 100px;"><img style="width: 100%;" src="https://img.alicdn.com/bao/uploaded/O1CN011NFfA01gJSk88z8jl_!!2-item_pic.png" id="11" draggable="true"></div>
	<div class="logo" style="width: 100px; height: 100px;"><img style="width: 100%;" src="https://img.alicdn.com/i3/2453308661/O1CN01YIEwdq2DqmvCPDeCe_!!2453308661.jpg_400x400.jpg" id="121" draggable="true"></div>
	<div style="width: 200px; height: 200px; background-color: #CCCCCC;" class="boxbox boxbox1" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="111"></div>
	<div style="width: 300px; height: 300px; background-color: #CCCCCC;" class="boxbox boxbox2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
	<div style="width: 100px; height: 100px; background-color: #CCCCCC;" class="boxbox boxbox3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
</div> -->

<div class="" style="width: 1000px; margin: 0 auto;">
	<div class="logo" style="width: 100px; height: 100px;">
		<img class="imgDrag" style="width: 100%;" src="__STATIC__/images/public/headimg.jpg" id="11123" draggable="true">
	</div>
	<div class="logo" style="width: 100px; height: 100px;">
		<img class="imgDrag" style="width: 100%;" src="https://img.alicdn.com/bao/uploaded/O1CN011NFfA01gJSk88z8jl_!!2-item_pic.png"
		 id="11" draggable="true">
	</div>
	<div class="logo" style="width: 100px; height: 100px;">
		<img class="imgDrag" style="width: 100%;" src="https://img.alicdn.com/i3/2453308661/O1CN01YIEwdq2DqmvCPDeCe_!!2453308661.jpg_400x400.jpg"
		 id="121" draggable="true"></div>
	<!-- <div style="width: 200px; height: 200px; background-color: #CCCCCC;" class="boxbox boxbox1" ondrop="drop(event)"
	 ondragover="allowDrop(event)"></div>
	<div style="width: 300px; height: 300px; background-color: #CCCCCC;" class="boxbox boxbox2" ondrop="drop(event)"
	 ondragover="allowDrop(event)"></div>
	<div style="width: 100px; height: 100px; background-color: #CCCCCC;" class="boxbox boxbox3" ondrop="drop(event)"
	 ondragover="allowDrop(event)"></div> -->
	 <div style="width: 200px; height: 200px; background-color: #CCCCCC;" class="boxbox boxbox1"></div>
	 <div style="width: 300px; height: 300px; background-color: #CCCCCC;" class="boxbox boxbox2"></div>
	 <div style="width: 100px; height: 100px; background-color: #CCCCCC;" class="boxbox boxbox3"></div>
</div>




{/block}


{block name="script"}
<script type="text/javascript" src="__STATIC__/until/blockDrag/blockDrag.min.js"></script>
<script type="text/javascript" src="__STATIC__/until/html2canvas/html2canvas.min.js"></script>
<script>
	var imgDrag = document.getElementsByClassName("imgDrag");
	console.log(imgDrag)
	for (var i = 0; i < imgDrag.length; i++) {
		imgDrag[i].addEventListener('dragstart', function(event) {
			drag(event)
		})
	}
	var box = document.getElementsByClassName("boxbox");
	for (var i = 0; i < box.length; i++) {
		box[i].addEventListener('drop', function(event) {
			drop(event)
		})
		box[i].addEventListener('dragover', function(event) {
			allowDrop(event)
		})
	}

	function allowDrop(ev) {
		ev.preventDefault();
	}

	function drag(ev) {
		console.log(ev.dataTransfer);
		ev.dataTransfer.setData("Text", ev.target.id);
	}

	function drop(ev) {
		console.log(ev);
		ev.preventDefault();
		var data = ev.dataTransfer.getData("Text");
		var newNode = document.getElementById(data).cloneNode(true);
		console.log(ev.target)
		console.log(ev.target.parentNode.children[1])
		if (ev.target.parentNode.children[1]) {
			ev.target.append(newNode);
		} else {
			ev.target.parentNode.append(newNode);
			ev.target.remove();
		}
	}


	layui.use(['layer', 'form'], function() {
		var $ = layui.jquery,
			layer = layui.layer,
			form = layui.form;

		$('.yxt-c .yxt-c-t span').on('click', function() {
			$(this).addClass('on').siblings().removeClass('on');
		})

		$('.logo').on('dragstart', function() {
			var that = $(this);
		})

		// window.onload = function () {
		// 	function start(ev) {
		// 		ev.dataTransfer.setData("Text", ev.target.id); //设置数据类型为（“Text”）和ID 
		// 	}
		// 	function stop(ev) {
		// 		ev.preventDefault(); //阻止元素发生默认行为 
		// 		var id = ev.dataTransfer.getData("Text"); //获取数据类型对应的ID         
		// 		ev.target.appendChild(document.getElementById(id));
		// 	}
		// 	function over(ev) {
		// 		ev.preventDefault();
		// 	}
		// 	var oBox = document.getElementById('box');
		// 	var oImg = document.querySelector('.img');
		// 	oImg.ondragstart = function (ev) { //要拖动的元素触发本函数 
		// 		start(ev); 
		// 	}; 
		// 	oBox.ondragover=function(ev){//拖动过程中触发本函数 
		// 		over(ev); 
		// 	}; 
		// 	oBox.ondrop=function(ev){//拖动结束时触发本函数 
		// 		stop(ev); 
		// 	}; 
		// };

	});
</script>
{/block}
